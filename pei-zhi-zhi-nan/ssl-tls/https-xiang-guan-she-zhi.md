# https相关设置

此页面可以对网站的https进行详细的设置

### 始终使用HTTPS

启用此选项后，当访客通过http协议访问网站时，01dun cdn会发送301重定向响应，要求浏览器通过https来访问。

{% hint style="info" %}
当用户在浏览器中直接输入域名（比如www.example.com）来访问网站时，浏览器默认会使用http协议（即：http://www.example.com）来访问网站。

此用此选项后，浏览器会收到一条301跳转响应，要求浏览器通过https://www.example.com进行访问。

这样用户就不必在浏览器中输入完整的https://www.example.com，也可以通过https协议访问网站。
{% endhint %}

### 启用“HTTP严格传输安全”（HSTS）

即使我们配置了“始终使用HTTPS”，浏览器通常也会先通过http协议访问一次，收到重定向响应后才会切换为https协议。虽然通过http协议的访问只有一次，但如果这唯一的一次出现问题也会导致连接失败。

{% hint style="info" %}
什么是HSTS：

HSTS（HTTP Strict Transport Security）是一种Web安全策略机制，用于强制客户端（如浏览器）只通过安全的HTTPS连接与服务器通信，而不是通过未加密的HTTP。

好处是增强网站的安全性，防止中间人攻击，特别是“降级攻击”（攻击者试图将HTTPS连接降级到HTTP），还可以提高网站加载速度，因为所有的HTTP请求都会自动转换为HTTPS，从而避免了重定向带来的延迟。

坏处是在任何时候都要强制使用HTTPS来传输。即使HTTPS无法访问，也不能使用HTTP协议。如果HTTPS配置错误，就会导致网站完全不可访问。
{% endhint %}

<figure><img src="../../.gitbook/assets/image (25).png" alt=""><figcaption></figcaption></figure>

* 启用HSTS：\
  HSTS的总开关。
* 最长期限：\
  指定浏览器应该记住网站仅通过HTTPS访问的时间长度。如果选择“1个月”，表示浏览器应该在接下来的1个月内，强制通过HTTPS访问网站。
* 包含子域：\
  开启此选项，表示您的域名下所有的子域名都启用HSTS。需要确保您的所有子域名都能正常通过HTTPS访问。
* 预加载：\
  可以通过将自己加入到预加载列表中来请求浏览器厂商预先强制其使用HTTPS。这意味着在用户第一次访问网站之前，浏览器已经知道需要通过HTTPS连接到该网站。
* 无嗅探标头：\
  发送“X-Content-Type-Options: nosniff”标头，告诉浏览器遵循服务端声明的内容类型（MIME类型），不进行MIME类型嗅探。有助于防止某些类型的攻击（如基于MIME类型混淆的攻击，其中恶意文件被错误地执行）。

### 最低TLS版本

目前TLS协议的主要版本包括：1.0、1.1、1.2以及最新的1.3。其中，TLS 1.0和1.1已不再被视为安全，许多现代浏览器和安全标准推荐禁用这些版本。TLS 1.2和TLS 1.3提供了更强的安全保障，并且TLS 1.3特别增加了许多安全和性能改进。

如果安全性是首要考虑因素（例如金融或政府网站），推荐只启用TLS 1.2和TLS 1.3。

对于需要支持较旧设备或软件的环境，可能需要启用TLS 1.0和1.1。

### 启用TLS 1.3

启用TLS 1.3可以增强您网站的安全性。TLS 1.3减少了数据传输过程中的握手次数，从而提高了连接速度。此外，它还提供了改进的加密功能和更高的安全性。

启用此选项后，如果浏览器也支持TLS 1.3，会在自动协商过程中采用TLS 1.3。

### 自动 HTTPS 重写

如果开启了HTTPS访问，但网页代码中包含了非HTTPS的内容，浏览器通常会发出混合内容的安全警告，从而拒绝加载HTTP内容。

重写可以自动将HTTP链接转换为HTTPS，这有助于防止混合内容警告，同时确保您网站的安全性。此功能对于老旧网站特别有用，这些网站在HTTPS普及前已经存在许多HTTP资源链接。

### 启用 HTTP/2

HTTP/2提供了比HTTP/1.1更高效的网络传输方式。它支持多路复用，减少了延迟，还提供了头部压缩功能来降低协议开销。

启用HTTP/2可以明显提升网站性能，尤其是在加载包含大量资源的页面时。

{% hint style="info" %}
什么是**HTTP/2？**

HTTP/2 是HTTP的第二个主要版本。它基于 Google 的 SPDY 协议开发，旨在提高网络通信的效率、速度和安全性。HTTP/2 主要关注于性能；它试图解决 HTTP/1.1 中存在的一些效率问题，如请求和响应的高延迟。包含“二进制分帧”、“多路复用”、“头部压缩”、“服务器推送”和“流控制”等特性。
{% endhint %}
